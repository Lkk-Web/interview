---
group:
  order: 5
order: 3
---

## Nestjs15.x

1. Nestjs 15.x é¡¹ç›®

- React 18 + Next.js 15 + Tailwind CSS 4.x + MobX çš„ç°ä»£å‰ç«¯æŠ€æœ¯è„šæ‰‹æ¶

```PlainText
Nextjs15-devops/
â”œâ”€â”€ .dockerignore â€” Docker æ„å»ºæ—¶å¿½ç•¥çš„æ–‡ä»¶åˆ—è¡¨
â”œâ”€â”€ .env â€” ç¯å¢ƒå˜é‡é…ç½®ï¼ˆä»…æœ¬åœ°/éƒ¨ç½²è¯»å–ï¼Œä¸æäº¤æ•æ„Ÿä¿¡æ¯ï¼‰
â”œâ”€â”€ .eslintrc.json â€” ESLint è§„åˆ™é…ç½®
â”œâ”€â”€ .gitignore â€” Git å¿½ç•¥æ–‡ä»¶è§„åˆ™
â”œâ”€â”€ .husky/ â€” Husky Git Hooks ç›®å½•ï¼Œç”¨äºè§„èŒƒæäº¤
â”‚   â””â”€â”€ _/ â€” Husky å†…éƒ¨è„šæœ¬ä¸æ¨¡æ¿
â”œâ”€â”€ .prettierrc â€” Prettier æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ Dockerfile â€” é¡¹ç›®å®¹å™¨åŒ–æ„å»ºè„šæœ¬
â”œâ”€â”€ README.md â€” é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ app/ â€” Next.js App Router æ ¹ç›®å½•ï¼ˆé¡µé¢ã€å¸ƒå±€ã€è·¯ç”±ï¼‰
â”‚   â”œâ”€â”€ [lang]/ â€” åŠ¨æ€è¯­è¨€æ®µï¼ˆå¤šè¯­è¨€è·¯ç”±å‰ç¼€ï¼Œå¦‚ /enã€/zhï¼‰
â”‚   â”‚   â”œâ”€â”€ counter/ â€” è®¡æ•°å™¨ç¤ºä¾‹é¡µé¢/ç»„ä»¶ï¼ˆæ¼”ç¤º MobXï¼‰
â”‚   â”‚   â”œâ”€â”€ error-boundary/ â€” é”™è¯¯è¾¹ç•Œæ¼”ç¤ºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ layout.tsx â€” è¯­è¨€ä½œç”¨åŸŸå¸ƒå±€ï¼ˆå¯¼èˆªã€ä¸»é¢˜ã€i18nï¼‰
â”‚   â”‚   â”œâ”€â”€ page.tsx â€” è¯­è¨€ä¸»é¡µï¼ˆå¯¹åº” /[lang]ï¼‰
â”‚   â”‚   â”œâ”€â”€ seo/ â€” è¯­è¨€ç»´åº¦çš„ SEO ç¤ºä¾‹/é…ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ theme/ â€” ä¸»é¢˜æ¼”ç¤ºé¡µé¢ï¼ˆæ·±æµ…è‰²åˆ‡æ¢ç­‰ï¼‰
â”‚   â”œâ”€â”€ favicon.ico â€” ç«™ç‚¹å›¾æ ‡
â”‚   â”œâ”€â”€ globals.css â€” å…¨å±€æ ·å¼å…¥å£ï¼ˆTailwind/è‡ªå®šä¹‰æ ·å¼ï¼‰
â”‚   â”œâ”€â”€ layout.tsx â€” åº”ç”¨æ ¹å¸ƒå±€ï¼ˆProvidersã€ä¸»é¢˜ã€i18n ç­‰ï¼‰
â”‚   â”œâ”€â”€ page.tsx â€” ç½‘ç«™é»˜è®¤ä¸»é¡µï¼ˆå¯¹åº” /ï¼‰
â”‚   â”œâ”€â”€ robots.ts â€” ç”Ÿæˆ robots.txtï¼ˆæœç´¢å¼•æ“æŠ“å–ç­–ç•¥ï¼‰
â”‚   â””â”€â”€ sitemap.ts â€” ç”Ÿæˆ sitemap.xmlï¼ˆç«™ç‚¹åœ°å›¾ï¼‰
â”œâ”€â”€ components.json â€” ç»„ä»¶åº“/ç”Ÿæˆå™¨çš„å…ƒé…ç½®ï¼ˆå¦‚ shadcn/uiï¼‰
â”œâ”€â”€ components/ â€” å¯å¤ç”¨çš„ UI ä¸é€»è¾‘ç»„ä»¶
â”‚   â”œâ”€â”€ ErrorBoundary.tsx â€” å…¨å±€é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚   â”œâ”€â”€ counter/ â€” ä¸è®¡æ•°å™¨ç›¸å…³çš„ç»„ä»¶ï¼ˆMobX ç¤ºä¾‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ Counter.tsx â€” è®¡æ•°å™¨ç»„ä»¶ä¸»ä½“
â”‚   â”‚   â”œâ”€â”€ MobXInitializer.tsx â€” MobX Store åˆå§‹åŒ–æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ MobXTestComponents.tsx â€” MobX æµ‹è¯•/ç¤ºä¾‹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ index.ts â€” è¯¥ç›®å½•å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ index.ts â€” components ç›®å½•å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ providers/ â€” å…¨å±€ Providersï¼ˆä¸»é¢˜ã€i18nã€çŠ¶æ€ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ Providers.tsx â€” æ ¹çº§ Provider ç»„åˆä¸æ³¨å…¥
â”‚   â”‚   â””â”€â”€ index.ts â€” è¯¥ç›®å½•å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ theme/ â€” ä¸»é¢˜ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ThemeProvider.tsx â€” ä¸»é¢˜ä¸Šä¸‹æ–‡ Provider
â”‚   â”‚   â”œâ”€â”€ ThemeSelector.tsx â€” ä¸»é¢˜é€‰æ‹©å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ThemeToggle.tsx â€” ä¸»é¢˜å¼€å…³ç»„ä»¶ï¼ˆäº®/æš—ï¼‰
â”‚   â”‚   â””â”€â”€ index.ts â€” è¯¥ç›®å½•å¯¼å‡ºå…¥å£
â”‚   â””â”€â”€ ui/ â€” é€šç”¨ UI ç»„ä»¶é›†åˆ
â”‚       â”œâ”€â”€ ErrorTrigger.tsx â€” è§¦å‘é”™è¯¯çš„æµ‹è¯•ç»„ä»¶ï¼ˆç”¨äºé”™è¯¯è¾¹ç•Œï¼‰
â”‚       â”œâ”€â”€ LanguageSwitcher.tsx â€” è¯­è¨€åˆ‡æ¢ç»„ä»¶
â”‚       â”œâ”€â”€ Navigation.tsx â€” å¯¼èˆªæ ç»„ä»¶
â”‚       â”œâ”€â”€ ProjectCard.tsx â€” é¡¹ç›®å¡ç‰‡ç»„ä»¶
â”‚       â”œâ”€â”€ SimpleErrorTrigger.tsx â€” ç®€å•é”™è¯¯è§¦å‘ç»„ä»¶
â”‚       â”œâ”€â”€ StatsCard.tsx â€” ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
â”‚       â”œâ”€â”€ button.tsx â€” æŒ‰é’®ç»„ä»¶ï¼ˆå¯èƒ½åŸºäº shadcn/uiï¼‰
â”‚       â””â”€â”€ index.ts â€” è¯¥ç›®å½•å¯¼å‡ºå…¥å£
â”œâ”€â”€ config/ â€” é¡¹ç›®çº§é…ç½®ï¼ˆé¡µé¢ä¸ SEO ç­‰ï¼‰
â”‚   â”œâ”€â”€ pages.config.ts â€” é¡µé¢çº§åˆ«é…ç½®ï¼ˆè·¯ç”±ã€å…ƒä¿¡æ¯ç­‰ï¼‰
â”‚   â””â”€â”€ seo.config.ts â€” SEO ç›¸å…³é…ç½®ï¼ˆæ ‡é¢˜ã€æè¿°ã€OG ç­‰ï¼‰
â”œâ”€â”€ docs/ â€” é¡¹ç›®æ–‡æ¡£ä¸è§„èŒƒ
â”‚   â””â”€â”€ SEO_GUIDE.md â€” SEO æŒ‡å—ä¸æœ€ä½³å®è·µ
â”œâ”€â”€ hooks/ â€” è‡ªå®šä¹‰ Hook
â”‚   â””â”€â”€ useAuth.ts â€” ç™»å½•/é‰´æƒçŠ¶æ€ Hookï¼ˆå¯èƒ½å°è£…è¯·æ±‚ä¸å­˜å‚¨ï¼‰
â”œâ”€â”€ i18n/ â€” å›½é™…åŒ–æ”¯æŒ
â”‚   â”œâ”€â”€ client.ts â€” å®¢æˆ·ç«¯ i18n åˆå§‹åŒ–/å·¥å…·
â”‚   â”œâ”€â”€ i18n-context.tsx â€” i18n ä¸Šä¸‹æ–‡ Provider/Hook
â”‚   â”œâ”€â”€ index.ts â€” i18n ç›®å½•å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ locales/ â€” è¯­è¨€èµ„æºåŒ…
â”‚   â”‚   â”œâ”€â”€ en/ â€” è‹±æ–‡ç¿»è¯‘æ–‡æ¡ˆ
â”‚   â”‚   â””â”€â”€ zh/ â€” ä¸­æ–‡ç¿»è¯‘æ–‡æ¡ˆ
â”‚   â””â”€â”€ settings.ts â€” i18n é…ç½®ï¼ˆé»˜è®¤è¯­è¨€ã€å¯ç”¨è¯­è¨€ç­‰ï¼‰
â”œâ”€â”€ lib/ â€” è½»é‡å·¥å…·ä¸ä¸šåŠ¡æ— å…³åº“
â”‚   â”œâ”€â”€ metadata.ts â€” é¡µé¢/ç«™ç‚¹å…ƒä¿¡æ¯ç”ŸæˆåŠ©æ‰‹
â”‚   â””â”€â”€ utils.ts â€” é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ middleware.ts â€” Next.js ä¸­é—´ä»¶ï¼ˆå¦‚ i18n è·¯ç”±å‰ç¼€ã€é‡å®šå‘ç­‰ï¼‰
â”œâ”€â”€ next.config.mjs â€” Next.js é…ç½®ï¼ˆå¦‚ basePathã€ä¼˜åŒ–ç­‰ï¼‰
â”œâ”€â”€ package.json â€” ä¾èµ–ä¸è„šæœ¬å®šä¹‰
â”œâ”€â”€ pm2.config.js â€” PM2 è¿›ç¨‹ç®¡ç†é…ç½®ï¼ˆç”Ÿäº§å¯åŠ¨å‚æ•°ï¼‰
â”œâ”€â”€ pnpm-lock.yaml â€” pnpm ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ postcss.config.mjs â€” PostCSS é…ç½®ï¼ˆTailwind ç­‰ï¼‰
â”œâ”€â”€ public/ â€” é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ gif/
â”‚   â”‚   â””â”€â”€ login.gif â€” ç™»å½•åŠ¨æ•ˆèµ„æº
â”‚   â”œâ”€â”€ img/
â”‚   â”‚   â”œâ”€â”€ logo.jpg â€” é¡¹ç›® Logo
â”‚   â”‚   â””â”€â”€ olivia_avatar.jpeg â€” ç¤ºä¾‹å¤´åƒ
â”‚   â””â”€â”€ svg/
â”‚       â””â”€â”€ arrow-left.svg â€” å·¦ç®­å¤´å›¾æ ‡
â”œâ”€â”€ request/ â€” ç½‘ç»œè¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ auth.ts â€” é‰´æƒç›¸å…³ API è¯·æ±‚å°è£…
â”‚   â””â”€â”€ request.ts â€” é€šç”¨è¯·æ±‚å·¥å…·ï¼ˆfetch/axios å°è£…ï¼‰
â”œâ”€â”€ store/ â€” å…¨å±€çŠ¶æ€ç®¡ç†ï¼ˆMobX/å…¶ä»–ï¼‰
â”‚   â”œâ”€â”€ global.ts â€” å…¨å±€çŠ¶æ€ Storeï¼ˆä¸»é¢˜ã€ç”¨æˆ·ç­‰ï¼‰
â”‚   â””â”€â”€ index.ts â€” store å¯¼å‡ºå…¥å£ä¸åˆå§‹åŒ–
â”œâ”€â”€ styles/ â€” ä¼ ç»Ÿ CSS æ ·å¼åˆ†å±‚
â”‚   â”œâ”€â”€ README.md â€” æ ·å¼è§„èŒƒè¯´æ˜
â”‚   â”œâ”€â”€ base.css â€” åŸºç¡€æ ·å¼ï¼ˆresetã€æ’ç‰ˆç­‰ï¼‰
â”‚   â”œâ”€â”€ components.css â€” ç»„ä»¶çº§æ ·å¼
â”‚   â”œâ”€â”€ theme.css â€” ä¸»é¢˜ç›¸å…³æ ·å¼å˜é‡/è§„åˆ™
â”‚   â””â”€â”€ utilities.css â€” å·¥å…·ç±»æ ·å¼ï¼ˆè¾…åŠ©ç±»ï¼‰
â”œâ”€â”€ tailwind.config.ts â€” Tailwind CSS é…ç½®
â”œâ”€â”€ theme/
â”‚   â””â”€â”€ themeConfig.ts â€” ä¸»é¢˜é…ç½®ï¼ˆè‰²æ¿ã€æ¨¡å¼ç­‰ï¼‰
â”œâ”€â”€ tsconfig.json â€” TypeScript ç¼–è¯‘é…ç½®
â””â”€â”€ types/
    â””â”€â”€ seo.types.ts â€” SEO ç±»å‹å®šä¹‰ï¼ˆTypeScript ç±»å‹ï¼‰
```

build æ„å»ºå¼€å‘æœåŠ¡å™¨å¡ä½

ğŸ”¥ åŸå› ï¼š Next.js build å¡ä½ï¼Œæ˜¯å› ä¸ºæœåŠ¡å™¨å…¨å±€ç¯å¢ƒå˜é‡å¼ºåˆ¶æŠŠ HTTPS æµé‡èµ°ä¸€ä¸ªä¸å­˜åœ¨çš„ SOCKS5 ä»£ç†(127.0.0.1:7890)ï¼Œå¯¼è‡´ Node çš„ HTTPS è¯·æ±‚ä¸€ç›´é˜»å¡ä¸è¿”å›ã€‚

é€šè¿‡ `NODE_DEBUG=https,net pnpm build` å‘½ä»¤æ’æŸ¥å‘ç°

```sh
NET: createConnection socks5://127.0.0.1:7890
NET: _read wait for connection
```

ç„¶åä¸€ç›´å¡ä½ã€‚

è¿™æ˜¯ ä»£ç†è¿æ¥ä¸ä¸Š çš„å…¸å‹è¡¨ç°ã€‚

å½“æ‰§è¡Œè¿™ä¸ªå‘½ä»¤æ—¶å°±æˆåŠŸäº†ï¼š`( unset HTTP_PROXY HTTPS_PROXY ALL_PROXY http_proxy https_proxy && pnpm build )`

è§£å†³æ–¹æ¡ˆï¼šä¸º next build ä¸“é—¨å»ºç«‹æ— ä»£ç†ç‰ˆæœ¬

åœ¨ package.json æ·»åŠ ï¼š

```json
"scripts": {
  "build:no-proxy": "unset HTTP_PROXY HTTPS_PROXY ALL_PROXY http_proxy https_proxy && next build"
}
```
