---
order: 2
toc: menu
---

# 前缀和 & 差分

还记得高中的差分和前缀和吧？没错就是求 Sn 和 Sn 的逆运算

## 一、前缀和

### 1、一维前缀和

核心思想：模拟等差数列前缀和，利用 S[n]来存储前 n 项，求[l,r]的序列和只需 S[r]-S[l-1]。

```C
for(int n = 0;n < data.length;n++){
	S[n] = x + S[n-1];	//x为当前值,data为n项
}

a[l] + ... + a[r] = S[r] - S[l - 1];

```

### 2、二维前缀和

核心思想：模拟矩阵二维等差

## 二、差分

### 1、一维差分

核心思想：给区间[l, r]中的每个数加上 c，在数组做标记，用前缀和求差分。

```C
b[l] += c , b[r+1] -= c; //
for(int i = 1; i < n; i++ ) b[i] += b[i - 1];//前缀和做差分
```
